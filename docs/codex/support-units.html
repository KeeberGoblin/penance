<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support Units - Penance</title>
    <link rel="stylesheet" href="manuscript-style.css">
    <link rel="stylesheet" href="components.css">
    <style>
        .unit-featured-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .unit-card {
            background: rgba(75, 14, 14, 0.15);
            border-left: 4px solid var(--dark-red);
            padding: 1.5rem;
            border-radius: 2px;
        }

        .unit-card .unit-type-label {
            color: var(--aged-gold);
            font-weight: 700;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
        }

        .unit-card h4 {
            margin: 0.5rem 0 0.25rem 0;
            font-size: 1.1rem;
            color: var(--dark-red);
        }

        .unit-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin: 1rem 0;
            font-size: 0.8rem;
        }

        .stat-mini {
            background: rgba(139, 0, 0, 0.2);
            padding: 0.4rem;
            text-align: center;
            border-radius: 2px;
        }

        .stat-mini-label {
            color: var(--aged-gold);
            font-weight: 700;
            font-size: 0.7rem;
        }

        .stat-mini-value {
            color: #fff;
            font-weight: 700;
        }

        .unit-card p {
            margin: 0.25rem 0;
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .dropdown-container {
            margin: 2rem 0;
        }

        .dropdown-toggle {
            background: var(--shadow-black);
            border: 2px solid var(--dark-red);
            color: var(--aged-gold);
            padding: 1rem 1.5rem;
            font-size: 1rem;
            font-family: 'Cinzel', serif;
            cursor: pointer;
            width: 100%;
            text-align: left;
            transition: all 0.3s ease;
            font-weight: 700;
            letter-spacing: 0.05em;
        }

        .dropdown-toggle:hover {
            background: var(--dark-red);
        }

        .dropdown-toggle.active {
            background: var(--dark-red);
        }

        .dropdown-content {
            display: none;
            background: rgba(10, 6, 4, 0.5);
            border: 1px solid var(--dark-red);
            border-top: none;
            max-height: 700px;
            overflow-y: auto;
        }

        .dropdown-content.active {
            display: block;
        }

        .unit-item {
            padding: 1.2rem 1.5rem;
            border-bottom: 1px solid rgba(139, 0, 0, 0.2);
        }

        .unit-item:last-child {
            border-bottom: none;
        }

        .unit-item-header {
            font-weight: 700;
            color: var(--aged-gold);
            margin-bottom: 0.3rem;
        }

        .unit-item-type {
            font-size: 0.8rem;
            color: var(--aged-gold);
            opacity: 0.8;
            margin-bottom: 0.3rem;
        }

        .unit-item-stats {
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        .unit-item-description {
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .section-header {
            background: linear-gradient(90deg, #8b0000 0%, #4a0000 50%, #8b0000 100%);
            color: var(--aged-gold);
            padding: 1rem 1.5rem;
            margin: 2rem 0 1rem 0;
            border-left: 5px solid var(--aged-gold);
            font-size: 1.3rem;
            font-weight: bold;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .info-box {
            background: rgba(139, 0, 0, 0.2);
            border: 2px solid var(--aged-gold);
            padding: 1rem;
            text-align: center;
            border-radius: 4px;
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--aged-gold);
            text-transform: uppercase;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .info-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fff;
        }
            /* Navigation bar for direct page access (not in iframe) */
/* Navigation bar for direct page access (not in iframe) */
</style>
</head>
<body>
<main class="content" role="main">
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="index.html" target="_parent">CODEX</a> /
            <a href="#equipment">EQUIPMENT</a> /
            Support Units
        </nav>

        <h1>Support Units</h1>
        <p style="font-style: italic; color: var(--aged-gold); font-size: 1.1rem; text-align: center; margin: 1rem 0;">
            AI Companions in Battle ★ 6 Unit Types
        </p>

        <div class="manuscript-quote">
            "Command them wisely. They fight not for glory, but for the chance at redemption."
        </div>

        <div style="text-align: center; margin: 2rem 0;">
            <span style="font-size: 2rem; color: var(--dark-red);">✦</span>
        </div>

        <h2>How Support Units Work</h2>

        <p class="manuscript-text">
            Support Units are NOT controlled directly. Each has a <strong>Behavior Deck</strong> (4–6 cards) that determines their actions each turn. Players can influence them with <strong>Command cards</strong> and <strong>Rally actions</strong>, spending SP to redirect their AI. They activate <strong>after all Caskets</strong> have taken their turns.
        </p>

        <div class="info-grid">
            <div class="info-box">
                <div class="info-label">Deployment Cost</div>
                <div class="info-value">2–4 Slots</div>
            </div>
            <div class="info-box">
                <div class="info-label">Unit Types</div>
                <div class="info-value">6</div>
            </div>
            <div class="info-box">
                <div class="info-label">HP Tracking</div>
                <div class="info-value">Tokens (Not Deck)</div>
            </div>
            <div class="info-box">
                <div class="info-label">Max Per Casket</div>
                <div class="info-value">1</div>
            </div>
        </div>

        <div style="text-align: center; margin: 2rem 0;">
            <span style="font-size: 2rem; color: var(--dark-red);">✦</span>
        </div>

        <h2>Featured Support Units</h2>
        <p style="opacity: 0.8; font-style: italic; margin-bottom: 1.5rem;">(Top 3 unit types featured. Complete unit table in dropdown.)</p>

        <div class="unit-featured-container">
            <div class="unit-card">
                <div class="unit-type-label">Infantry Support</div>
                <h4>1. Penitent Squad (Church)</h4>
                <div class="unit-stats">
                    <div class="stat-mini">
                        <div class="stat-mini-label">HP</div>
                        <div class="stat-mini-value">8</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">MOVE</div>
                        <div class="stat-mini-value">3</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">DEF</div>
                        <div class="stat-mini-value">1</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">SLOTS</div>
                        <div class="stat-mini-value">2</div>
                    </div>
                </div>
                <p><strong>Type:</strong> Zealous infantry armed with sanctified blades.</p>
                <p><strong>Behaviors:</strong> Charge Forward, Surround Enemy, Protect Casket, Desperate Strike.</p>
                <p><strong>Special:</strong> Martyrdom (explode for 3 damage on death).</p>
            </div>

            <div class="unit-card">
                <div class="unit-type-label">Artillery Support</div>
                <h4>2. Ironclad Sentinel (Dwarven)</h4>
                <div class="unit-stats">
                    <div class="stat-mini">
                        <div class="stat-mini-label">HP</div>
                        <div class="stat-mini-value">6</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">MOVE</div>
                        <div class="stat-mini-value">2</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">DEF</div>
                        <div class="stat-mini-value">2</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">SLOTS</div>
                        <div class="stat-mini-value">3</div>
                    </div>
                </div>
                <p><strong>Type:</strong> Mobile artillery with shoulder-mounted siege cannon.</p>
                <p><strong>Behaviors:</strong> Siege Bombardment, Defensive Position, Suppressing Fire, Reload.</p>
                <p><strong>Special:</strong> Explosive Shells (splash damage to adjacent hexes).</p>
            </div>

            <div class="unit-card">
                <div class="unit-type-label">Tank Support</div>
                <h4>5. Forge Golem (Dwarven)</h4>
                <div class="unit-stats">
                    <div class="stat-mini">
                        <div class="stat-mini-label">HP</div>
                        <div class="stat-mini-value">15</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">MOVE</div>
                        <div class="stat-mini-value">2</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">DEF</div>
                        <div class="stat-mini-value">3</div>
                    </div>
                    <div class="stat-mini">
                        <div class="stat-mini-label">SLOTS</div>
                        <div class="stat-mini-value">4</div>
                    </div>
                </div>
                <p><strong>Type:</strong> Massive animated construct of stone & rune-etched iron.</p>
                <p><strong>Behaviors:</strong> Taunt, Crushing Slam, Defensive Stance, Seismic Stomp.</p>
                <p><strong>Special:</strong> Runic Shields (1d6, on 5–6 reduce damage by 3).</p>
            </div>
        </div>

        <div style="text-align: center; margin: 2rem 0;">
            <span style="font-size: 2rem; color: var(--dark-red);">✦</span>
        </div>

        <div class="section-header">▼ All Support Unit Types (Faction-Specific)</div>

        <div class="dropdown-container">
            <button class="dropdown-toggle" onclick="toggleUnitDropdown('units')">Expand All Support Units (6 types) ▼</button>
            <div class="dropdown-content" id="units-content">
                <div class="unit-item">
                    <div class="unit-item-header">1. Penitent Squad (Church Infantry)</div>
                    <div class="unit-item-type">Infantry Support</div>
                    <div class="unit-item-stats">HP: 8 | MOVE: 3 | DEF: 1 | SLOTS: 2</div>
                    <div class="unit-item-description"><strong>Zealous infantry squad armed with sanctified blades.</strong> Behaviors: Charge Forward (move toward enemy, attack 3 dmg if adjacent), Surround Enemy (flank, attack 4 dmg), Protect Casket (defend nearby Casket, attack 3 dmg), Desperate Strike (if HP ≤ 4, attack 5 dmg). Special: Martyrdom (explode for 3 dmg to adjacent on death).</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">2. Ironclad Sentinel (Dwarven Artillery)</div>
                    <div class="unit-item-type">Artillery Support</div>
                    <div class="unit-item-stats">HP: 6 | MOVE: 2 | DEF: 2 | SLOTS: 3</div>
                    <div class="unit-item-description"><strong>Mobile artillery platform with shoulder-mounted siege cannon.</strong> Behaviors: Siege Bombardment (attack farthest enemy within 8 hexes, 6 dmg, ignore 2 Defense), Defensive Position (move away 2 hexes, attack 5 dmg), Suppressing Fire (attack nearest enemy 4 dmg, target cannot move next turn), Reload (move to cover, gain +2 DEF, next attack +2 dmg). Special: Explosive Shells (splash 2 dmg to adjacent hexes).</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">3. Bone Thralls (Ossuarium Swarm)</div>
                    <div class="unit-item-type">Swarm Support</div>
                    <div class="unit-item-stats">HP: 12 (3 per thrall × 4) | MOVE: 4 | DEF: 0 | SLOTS: 2</div>
                    <div class="unit-item-description"><strong>Four skeletal thralls bound to your will.</strong> Behaviors: Swarm Attack (all thralls move toward enemy, attack 2 dmg each if adjacent), Scatter (spread out around enemy, attack if adjacent), Feast on Fallen (recover 3 HP when enemy dies, resurrect if dead), Defensive Circle (form ring around Casket, +1 Casket DEF). Special: Resurrection (spend 2 SP per turn to resurrect 1 thrall with 3 HP if corpse marker within 4 hexes of Casket).</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">4. Verdant Stalker (Elven Scout)</div>
                    <div class="unit-item-type">Scout Support</div>
                    <div class="unit-item-stats">HP: 6 | MOVE: 5 | DEF: 1 | SLOTS: 2</div>
                    <div class="unit-item-description"><strong>Elven ranger bonded with your Casket.</strong> Behaviors: Hunt Wounded (attack enemy with most Bleed, 3 dmg + 1 per Bleed max +5, apply 1 Bleed), Hit and Run (attack 3 dmg + Bleed, retreat 3 hexes), Sniper Shot (attack farthest enemy in 6 hexes, 4 dmg, apply Bleed), Vanish (if HP ≤ 3, move 5 hexes away, gain Stealth). Special: Bleed Mastery (all Bleed from Stalker lasts 1 extra turn).</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">5. Forge Golem (Dwarven Tank)</div>
                    <div class="unit-item-type">Tank Support</div>
                    <div class="unit-item-stats">HP: 15 | MOVE: 2 | DEF: 3 | SLOTS: 4</div>
                    <div class="unit-item-description"><strong>Massive animated construct of stone and rune-etched iron.</strong> Behaviors: Taunt (all enemies within 4 hexes must target Golem next turn), Crushing Slam (attack nearest enemy 5 dmg, ignore 2 DEF, knockback 1), Defensive Stance (if HP ≤ 8, gain +2 DEF, counterattack for 3 dmg), Seismic Stomp (AOE 3 dmg to adjacent, push 1 hex, +1 Heat). Special: Runic Shields (1d6, on 5–6 reduce damage by 3).</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">6. Scrap Hauler (Nomad Engineer)</div>
                    <div class="unit-item-type">Engineer Support</div>
                    <div class="unit-item-stats">HP: 10 | MOVE: 3 | DEF: 1 | SLOTS: 3</div>
                    <div class="unit-item-description"><strong>Salvage bot cobbled from scrap metal.</strong> Behaviors: Field Repair (move toward damaged Casket, heal 4 HP if adjacent), Build Cover (create 1 hex cover if none nearby), Scavenge (move toward corpse, recover 1 Scrap token), Emergency Override (remove 1 Component Damage marker if adjacent). Special: Salvage (automatically gain 1 Scrap token when enemy destroyed within 4 hexes). Note: Cannot be commanded to ATTACK.</div>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin: 2rem 0;">
            <span style="font-size: 2rem; color: var(--dark-red);">✦</span>
        </div>

        <div class="section-header">▼ Command Cards (For Casket Decks)</div>

        <div class="dropdown-container">
            <button class="dropdown-toggle" onclick="toggleUnitDropdown('commands')">Expand Command Cards (4 types) ▼</button>
            <div class="dropdown-content" id="commands-content">
                <div class="unit-item">
                    <div class="unit-item-header">Rally Cry (Universal)</div>
                    <div class="unit-item-description"><strong>SP Cost:</strong> 1 | <strong>Range:</strong> 6 hexes | <strong>Effect:</strong> Move 1 support unit up to its full movement distance to any visible hex.</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">Coordinated Strike (Universal)</div>
                    <div class="unit-item-description"><strong>SP Cost:</strong> 2 | <strong>Type:</strong> Attack, Command | <strong>Effect:</strong> Your support unit AND your Casket attack same target. Both gain +2 damage.</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">Defensive Formation (Universal)</div>
                    <div class="unit-item-description"><strong>SP Cost:</strong> 1 | <strong>Range:</strong> 4 hexes | <strong>Effect:</strong> Move support unit adjacent to you. Both you and support unit gain +2 DEF until start of next turn.</div>
                </div>
                <div class="unit-item">
                    <div class="unit-item-header">Emergency Recall (Universal)</div>
                    <div class="unit-item-description"><strong>SP Cost:</strong> 0 | <strong>Type:</strong> Reactive, Command | <strong>Range:</strong> 10 hexes | <strong>Effect:</strong> When support unit would be destroyed, teleport it adjacent to your Casket and prevent destruction (1 HP remains).</div>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin: 3rem 0;">
            <span style="font-size: 3rem; color: var(--dark-red);">✦</span>
        </div>

        <p style="text-align: center; font-style: italic; color: var(--aged-gold); margin-top: 2rem;">
            Support units provide tactical flexibility at the cost of equipment slots. Command them wisely.
        </p>
    </main>

    <script>
        function toggleUnitDropdown(id) {
            const content = document.getElementById(id + '-content');
            const button = event.target;
            content.classList.toggle('active');
            button.classList.toggle('active');
        }
    </script>
    <script src="codex-common.js"></script>
</body>
</html>
