# Penance: Absolution Through Steel

**A tactical hex-based card game of grimdark medieval fantasy mech combat where redemption is earned through brutal warfare.**

![Status](https://img.shields.io/badge/status-PLAYTEST%20READY-red)
![Factions](https://img.shields.io/badge/factions-10%20Complete-green)
![License](https://img.shields.io/badge/license-CC%20BY--NC--SA%204.0-blue)
![Version](https://img.shields.io/badge/version-2.2%20Casket%20System-orange)

---

## Quick Start

**Ready to play in 3 steps:**

1. **[Browse the Interactive Codex](https://keebergoblin.github.io/penance/codex/)** - All rules, factions, and lore
2. **[View the Card Database](https://keebergoblin.github.io/penance/cards/)** - 278 cards across 10 factions
3. **[Build Your Deck](https://keebergoblin.github.io/penance/cards/deck-builder.html)** - Choose faction, customize loadout

**First game**: 15 min setup, 45-60 min playtime

---

## What Is Penance?

Penance is a **tactical mech combat card game** where:

- **Your deck is your HP** - Damage discards cards, deck empty = death spiral
- **Components get destroyed** - Lose your Right Arm, lose all weapon cards permanently
- **10 asymmetric factions** - Each plays completely differently (vampires, elves, merchants, cultists)
- **Positioning matters** - Hex combat with facing, flanking, elevation, and line of sight
- **Brutal consequences** - Permanent pilot scars, component destruction, death

**Setting**: Medieval fantasy world where warriors pilot baroque mechs called **Caskets** - towering war machines controlled through neural interface, seeking absolution through combat.

---

## The 10 Factions

Each faction has **21 unique cards** and a completely different playstyle:

### Core 4 Factions (Beginner-Friendly)

| Faction | Playstyle | Signature Mechanic |
|---------|-----------|-------------------|
| **[Church of Absolution](https://keebergoblin.github.io/penance/codex/faction-church.html)** | Aggressive Martyrdom | Blood Offering (self-harm for burst damage) |
| **[Dwarven Forge-Guilds](https://keebergoblin.github.io/penance/codex/faction-dwarves.html)** | Fortress Defender | Rune Counters (stacking defense/damage) |
| **[The Ossuarium](https://keebergoblin.github.io/penance/codex/faction-undead.html)** | Lifesteal Vampire | Soul Harvest (resurrections, lifesteal) |
| **[Verdant Covenant](https://keebergoblin.github.io/penance/codex/faction-elves.html)** | Hit-and-Run Assassin | Bleed Stacking (infinite scaling) |

### Advanced 6 Factions

| Faction | Playstyle | Signature Mechanic |
|---------|-----------|-------------------|
| **[Wyrd Conclave](https://keebergoblin.github.io/penance/codex/faction-fae.html)** | Reality Bender | Wyrd Tokens (steal faces, distort reality) |
| **[Nomad Collective](https://keebergoblin.github.io/penance/codex/faction-nomads.html)** | Mobile Survivor | Improvisation (salvaged gear, mobility) |
| **[The Exchange](https://keebergoblin.github.io/penance/codex/faction-exchange.html)** | Economic Warfare | Credit Tokens (bribery, mercenaries) |
| **[Crucible Packs](https://keebergoblin.github.io/penance/codex/faction-crucible.html)** | Fire Duelist | Forge Tokens (volcanic honor duels) |
| **[Vestige Bloodlines](https://keebergoblin.github.io/penance/codex/faction-bloodlines.html)** | Mutation Specialist | Biomass Tokens (5 bloodline variants) |
| **[Emergent Syndicate](https://keebergoblin.github.io/penance/codex/faction-emergent.html)** | Hive-Mind Swarm | Metamorph Tokens (coordinated collective) |

**Mirror Matches**: All 10 factions include **Schisms & Renegade sub-factions** (20 total variants) for faction-vs-same-faction battles. Same mechanics, different flavor/roleplay/color schemes.

---

## Core Mechanics

### The 3-Pile System
- **HP Draw Deck** (26-50 cards) - Your active deck = structural integrity
- **Discard Pile** - Cards you play → Reshuffles when draw deck empty
- **Damage Graveyard** - Cards destroyed by damage → **Gone forever** (death spiral)
- **Key**: Playing cards ≠ taking damage. Played cards come back, damaged cards don't.

### DAMAGED Cards (Persistent Wounds)
- **Major Wounds (5+ damage)** → Add 1 DAMAGED card to Discard Pile
- DAMAGED cards **persist in hand** across rounds (curse-like)
- Take up card slots, can be removed via 0 SP action:
  - **Sacrifice** (to Discard Pile): Roll Damage Die, cycles back later
  - **Purge** (to Damage Graveyard): Roll Damage Die, gone forever
- **Damage Die**: 1d6 with effects (Heat, -SP, Component Damage, Pilot Wound, or lucky +SP!)

### Component Damage (Kingdom Death-inspired)
- **5 Components**: Head (8 HP), Torso (10 HP), Arms (8 HP each), Legs (10 HP)
- Damage tracked across **3 zones**: AP Zone → Structure Zone → Pilot Exposure
- **Component destroyed** = lose all associated cards **permanently**
- Example: Right Arm destroyed → All Primary Weapon cards become SCRAP

### SP Action Economy
- **Soul Points (SP)** refresh each turn (4-6 depending on faction)
- Spend up to max safely, or **overspend to 1.5× max** for burst turns (risks Heat Strain)
- **Variable Draw Phase**: Draw (cards played ÷ 2), minimum 2, maximum 5

### Salvage System
- **Discard 2 SCRAP → Draw 1 card** (0 SP, Free Action)
- Component destruction converts equipment into SCRAP
- Strategic dilemma: Keep SCRAP for damage absorption vs. cycle for useful cards
- **Warning**: 2-for-1 accelerates death spiral

### Tactical Hex Combat
- **Hex-based positioning** with facing modifiers (Front/Side/Rear Arc)
- **Rear Arc attacks**: +2 damage
- **Elevation**, **cover**, and **line of sight** all matter
- **Flanking** and **high ground advantage**

---

## What's Included

### Complete Game Systems
- **10 Playable Factions** - 21 unique cards each
- **278 Total Cards** - 210 faction cards, 68 universal/equipment/support
- **40+ Notable NPCs** - Unique characters with backstories for all factions
- **28-Page PDF Rulebook** - Traditional D&D-style parchment rulebook
- **Modular Deck Building** - 26-50 card variable decks based on equipment choices
- **Support Units** - 60 AI companions with behavior decks (6 per faction)
- **2 Core Scenarios** - Deathmatch + Objective Control
- **Campaign Mode** - Settlement management, pilot progression, 15-enemy bestiary
- **Interactive Tools** - Card database, deck builder, pilot generator, PDF rulebook viewer

### Documentation
- **[Interactive Codex](https://keebergoblin.github.io/penance/codex/)** - Complete rules in codex-style navigation
- **[PDF-Style Core Rulebook](https://keebergoblin.github.io/penance/codex/rulebook-pdf-viewer.html)** - 28-page traditional rulebook with parchment theme
- **[Notable NPCs](https://keebergoblin.github.io/penance/codex/)** - 40+ unique characters across all 10 factions
- **[Card Database](https://keebergoblin.github.io/penance/cards/)** - Search/filter all 278 cards
- **[Deck Builder](https://keebergoblin.github.io/penance/cards/deck-builder.html)** - Build custom decks
- **[Quick Reference Sheet](docs/rules/quick-reference.md)** - 1-page printable cheat sheet

---

## First Game Guide

### Step-by-Step Setup

**1. Choose Factions** (5 minutes)
- **Beginner**: Church vs Dwarves (straightforward mechanics)
- **Intermediate**: Ossuarium vs Elves (more complex)
- [View all faction mechanics](https://keebergoblin.github.io/penance/codex/)

**2. Build Decks** (5 minutes)
- Use [Deck Builder](https://keebergoblin.github.io/penance/cards/deck-builder.html) or pre-built lists
- **Basic deck**: 10 Universal + 6 Faction Core + 14 Equipment = 30 cards

**3. Setup Scenario** (5 minutes)
- **Recommended**: [The Proving Grounds](docs/scenarios/01-proving-grounds.md) (1v1 deathmatch)
- Print hex map or use tabletop with measuring tape
- Place Caskets 12 hexes apart

**4. Play** (45-60 minutes)
- Read [Turn Structure](docs/rules/turn-structure.md) (4 phases: Refresh, Movement, Action, Draw)
- Reference [Quick Reference Sheet](docs/rules/quick-reference.md) for common actions
- Track component damage on paper or use tokens

**5. Victory Condition**
- **Deathmatch**: Destroy enemy Chassis (10 HP) OR force 3+ deck reshuffles

### Post-Game
- [Example of Play](docs/scenarios/example-of-play.md) - 5-turn walkthrough for comparison
- [Give Feedback](#-contributing) - Open GitHub issue with observations

---

## Recent Updates (November 2025)

### v2.3 Complete Codex Expansion (Nov 6)

**New Interactive Features:**
- **[PDF-Style Core Rulebook](https://keebergoblin.github.io/penance/codex/rulebook-pdf-viewer.html)** - Complete 28-page D&D-style parchment rulebook with:
  - Chapter 1: Casket Classes (Scout, Warden, Vanguard, Colossus) - 7 pages
  - Chapter 2: Combat System (6-step attack resolution, defense dice, heat, pilot wounds) - 7 pages
  - Chapter 3: Dice Reference (3 dice types, probabilities, modifiers) - 3 pages
  - Chapter 4: Component Damage (3-layer AP/Structure/Exposure system) - 4 pages
  - Chapter 5: Range & Line of Sight (hex grid, facing, terrain) - 4 pages
- **Notable NPCs for All 10 Factions** - 40+ unique characters including:
  - Faction leaders (The Archon, High Confessor Radovan, Chief Forgemaster Durin)
  - Zealots, outcasts, and petrified prophets
  - Full backstories, motivations, and relationships
  - Integrated with faction lore and schisms
- **Improved Navigation** - Fixed iframe sidebar breaking when clicking links
- **Witty Changelog** - Sims patch notes-style update descriptions with developer commentary
- **Faction Overview Uplift** - Fixed bugs, added smooth animations, ESC key support

**Why This Matters**: The PDF-style rulebook provides a traditional reading experience for players who prefer linear documentation over interactive navigation. The NPC pages add depth to faction storytelling and campaign play. All 28 pages use the parchment theme exclusively (regular codex keeps dark manuscript style).

---

## Recent Updates (October 2025)

### v2.2 Revised Casket System (Oct 18)

**Major Lore Integration:**
- **Dual Entity System**: Caskets now explicitly contain **two entities**:
  - **Living Pilot** (conscious human strapped in chamber, views through armored slit)
  - **Bound Soul** (Soulstone Core power source, separate trapped soul)
- **Neural Thread Control**: 10 bio-mechanical threads drilled through pilot's fingertips for puppet control
- **Thread Snap Mechanic**: Combat damage can sever threads, causing function loss and pain
- **Faction Amputation Rituals**:
  - Church: "The Shortening" (legs removed)
  - Dwarves: "Compact Form" (all four limbs removed, runic stumps)
  - Ossuarium: "Efficient Form" (skull + spine only, brain in nutrient vat)
  - Elves: "Root-Grafting" (legs replaced with living vine prosthetics)
- **Updated Documentation**: 7 HTML codex pages revised for consistency

**Why This Matters**: The dual-entity system creates new strategic depth (Soulstone Core can be targeted separately from pilot), adds faction-specific amputation flavor, and integrates Thread Snap as a combat mechanic tied to component damage.

### v2.1 Balance Update (Oct 17-18)

**Gameplay Changes:**
- Component HP normalization: Head **6→8 HP**, Legs **8→10 HP**
- Salvage cost increase: **1→1 changed to 2→1** (more expensive cycling)
- Overspending cap reduced: **2× → 1.5× max SP** (less burst potential)
- Variable Draw Phase: Fixed 3 cards → **(Played ÷ 2, min 2, max 5)**
- Defense Dice block rate: **33% → 50%** (more viable defense)

**UX Improvements:**
- Card database refactor: Removed tabs, added unified faction filter
- Deck builder enhancement: All 10 factions now included
- Codex cleanup: Added Schisms & Renegade factions to all 10 factions (20 sub-factions)
- Removed "Development History" meta-sections

---

## Full Documentation

### Core Rules
- **[Interactive Codex](https://keebergoblin.github.io/penance/codex/)** - All rules in one place
- [Turn Structure](docs/rules/turn-structure.md) - 4-phase SP-based system
- [Combat System](docs/rules/combat-system.md) - Deck-as-HP, component damage
- [Component Damage System](docs/rules/component-damage-system.md) - AP/Structure/Exposure zones
- [Range & Line of Sight](docs/rules/range-and-los.md) - Hex movement, facing, cover
- [Deck Construction](docs/rules/deck-construction.md) - How to build 26-50 card decks

### Factions & Cards
- [Complete Card Data](docs/cards/complete-card-data.json) - 278 cards in JSON format
- [Universal Core Cards](docs/cards/universal.md) - 10 cards everyone has
- [Equipment Pool](docs/reference/equipment-pool-complete.md) - 46 weapons, shields, sigils

### Campaign & Scenarios
- [Settlement Phase Procedure](docs/campaigns/settlement-phase-procedure.md) - Campaign workflow
- [Pilot Generation Tables](docs/campaigns/pilot-generation-tables.md) - Random character creation
- [Core Bestiary](docs/enemies/bestiary-core.md) - 15 enemies with AI behavior decks
- [The Scavenger's Crusade](docs/campaigns/scavengers-crusade.md) - 10-mission story arc
- [The Proving Grounds](docs/scenarios/01-proving-grounds.md) - 1v1 Deathmatch scenario
- [Reliquary Ruins](docs/scenarios/02-reliquary-ruins.md) - Objective Control scenario

### Lore & World
- **[Main Website](https://keebergoblin.github.io/penance/)** - Timeline, faction overview
- [World Overview](docs/lore/world-overview.md) - 437-year timeline, The Sundering
- [Cosmology & Origins](docs/lore/cosmology-and-origins.md) - Alternate-Earth setting
- [Faction Relationships](docs/factions/relationships.md) - Diplomacy matrix
- [Puppeteer Capsule System](docs/reference/casket-control-system.md) - Neural interface lore
- [Faction Casket Types](docs/factions/casket-types.md) - 36 unique mech designs

---

## Interactive Tools

### Web-Based Tools
- **[Interactive Codex](https://keebergoblin.github.io/penance/codex/)** - Complete game rules and lore
- **[PDF-Style Core Rulebook](https://keebergoblin.github.io/penance/codex/rulebook-pdf-viewer.html)** - 28-page parchment rulebook
- **[Card Database](https://keebergoblin.github.io/penance/cards/)** - Search/filter 278 cards
- **[Deck Builder](https://keebergoblin.github.io/penance/cards/deck-builder.html)** - Build custom decks
- **[Pilot Generator](https://keebergoblin.github.io/penance/tools/pilot-generator.html)** - Random character creation

### Development Tools
- [TTS Integration](tools/generate-tts-deck.py) - Generate Tabletop Simulator card sheets
- [PDF Generator](tools/generate-pdfs.py) - Create professional rulebooks
- [TTS Import Guide](tools/TTS-IMPORT-GUIDE.md) - Setup instructions

### Combat Simulator (v5.14)
- **[Faction Balance Simulator](/simulation/)** - Complete deck combat testing with dice mechanics
- Test all 10 factions with accurate win rate calculations
- Custom 2d6 attack dice + 1d6 defense dice system
- Resource economy tracking (Credits, Biomass, Faith, Forge, Bleed)
- **Current Balance:** 1/10 factions in target 45-55% WR range
- **Usage:** `cd simulation && python3 faction_balance_DICE.py`

---

## Design Philosophy

### Core Pillars
- **Brutal Progression** - Permanent consequences (component destruction, pilot death, scars)
- **Asymmetric Factions** - Each faction plays completely differently
- **Meaningful Scarcity** - Resources are precious (Salvage economy, equipment slots)
- **Death Spiral** - Inevitable decline (Damage cards accumulate, components destroyed)
- **Tactical Depth** - Positioning, facing, elevation, component targeting all matter
- **Mystery Over Answers** - Lore raises questions (What is the Theslar Engine?)
- **No Pure Heroes** - Every faction is morally complex

### Design Influences
- **GKR: Heavy Hitters** - Deck-as-HP, SP economy
- **Kingdom Death: Monster** - Component destruction, permanent consequences, AI behavior decks
- **BattleTech/MechWarrior** - Component targeting, heat management, customization
- **Into the Breach** - Positioning-first tactical combat
- **Escaflowne** - Mystical power + mechanical armor, baroque aesthetic

---

## Repository Structure

```
penance/
├── README.md                          # You are here
├── docs/
│   ├── index.html                     # Main website (timeline, factions)
│   ├── codex/                         # Interactive codex
│   │   ├── index.html                 # Codex homepage
│   │   ├── content-home.html          # Codex main index
│   │   ├── rulebook-pdf-viewer.html   # 28-page PDF-style rulebook
│   │   ├── rulebook-parchment.css     # D&D parchment theme
│   │   ├── faction-*.html             # 10 faction pages with Schisms
│   │   ├── lore-npc-*.html            # 10 NPC pages (40+ characters)
│   │   └── rules-*.html               # All game rules
│   ├── cards/
│   │   ├── index.html                 # Card database viewer
│   │   ├── deck-builder.html          # Deck builder tool
│   │   └── complete-card-data.json    # 278 cards (10 factions + equipment)
│   ├── rules/                         # Core mechanics (markdown)
│   ├── factions/                      # Faction deck lists
│   ├── scenarios/                     # Playtest scenarios
│   ├── campaigns/                     # Campaign systems
│   ├── enemies/                       # Bestiary
│   ├── lore/                          # World building
│   └── reference/                     # Design docs
├── tools/                             # Dev utilities
│   ├── generate-tts-deck.py           # TTS card sheet generator
│   ├── generate-pdfs.py               # PDF creation
│   └── pilot-generator.html           # Character creation
└── archive/                           # Historical documents
```

---

## Contributing

### Playtesting Feedback
After playing, open a GitHub issue:
- **Title**: `[Playtest] Faction vs Faction - Date`
- **Include**: Balance observations, clarity issues, fun factor, suggested improvements
- **Template**: Post-game debrief questions in [PLAYTEST-READY.md](docs/reference/PLAYTEST-READY.md)

### Content Creation
- Additional scenarios (new maps, victory conditions)
- Campaign missions (story-driven encounters)
- Visual art (baroque-romanticist-brutalist aesthetic)
- Balance suggestions (with playtesting data)

---

## License

Licensed under [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)](LICENSE.md).

**You are free to**:
- Share and adapt this material
- Use for personal/educational purposes
- Create derivative works

**Under these terms**:
- Attribution required
- Non-commercial use only
- Share adaptations under same license

---

## Contact

- **GitHub**: [@KeeberGoblin](https://github.com/KeeberGoblin)
- **Repository**: https://github.com/KeeberGoblin/penance
- **Website**: https://keebergoblin.github.io/penance/
- **Interactive Codex**: https://keebergoblin.github.io/penance/codex/

---

## Version History

### v2.3 Complete Codex Expansion (November 6, 2025)
- PDF-Style Core Rulebook (28 pages with D&D parchment theme)
- Notable NPCs for all 10 factions (40+ unique characters)
- Navigation improvements (fixed iframe sidebar breaking)
- Witty Sims-style changelog entries
- Faction overview page uplift (bug fixes, animations)
- Parchment theme exclusive to PDF viewer (regular codex uses dark manuscript)

### v2.2 Revised Casket System (October 18, 2025)
- Dual entity system (Living Pilot + Bound Soul in Soulstone Core)
- Neural Thread Control system (10 bio-mechanical puppet strings)
- Thread Snap combat mechanic integration
- Faction-specific amputation rituals (Church, Dwarves, Ossuarium, Elves)
- Updated 7 HTML codex pages for lore consistency
- Terminology standardization (capsule → chamber)

### v2.1 Balance Update (October 17-18, 2025)
- Component HP normalization (Head 6→8, Legs 8→10)
- Salvage cost increase (1→1 → 2→1)
- Overspending cap reduced (2× → 1.5×)
- Variable Draw Phase (played ÷ 2, min 2, max 5)
- Defense Dice block rate increased (33% → 50%)
- Card database/deck builder UX overhaul
- Added Schisms & Renegade factions (20 sub-factions for mirror matches)

### v2.0 Equipment System (October 11, 2025)
- Variable deck size (26-50 cards) based on equipment
- 60+ craftable/lootable items
- All 10 factions complete (210 faction cards)
- Support Units system (60 AI companions)

### v1.0 Playtest Ready (October 10, 2025)
- Complete playtest package (4 factions, 2 scenarios)
- GKR + KDM hybrid combat system
- Interactive website with downloads

---

*"In iron we seek forgiveness. Through blood, absolution."*

*"The deck is your life. When it's empty, so are you."*
